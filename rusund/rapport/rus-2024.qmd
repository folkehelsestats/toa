---
title: "Tall om alkohol"
format:
  html:
    code-fold: true
    toc: true
    toc-title: "Innhold"
    toc-location: right
    toc-depth: 3
    toc-expand: 2
    number-sections: true
execute:
  echo: false
---


**Publisert:** `r format(Sys.Date(), "%d. %B %Y")`


Analyser om alkohol 

```{r}
#| echo: false
#| warning: false

pth <- "~/Git-hdir/toa/rusund"
source(file.path(pth, "rus-draft.R"))
```
# Demografisk oversikt

Ulike aspekter ved alkoholbruk, som drikkefrekvens, volum og drikkemønster, varierer mellom ulike befolkningsgrupper, som for eksempel kjønns- og aldersgrupper.

## Andel som har drukket siste år


```{r}
#| echo: false
#| warning: false

dt[, alkosistaar := fcase(
  Drukket1 == 8, NA_real_,
  default = Drukket1
)]

codebook::var_label(dt$alkosistaar) <- "Alkohol siste 12 måneder"
alksistaar_values <- c(
  "drukket alkohol siste 12 mnd" = 1,
  "ikke drukket alkohol siste 12 mnd" = 2
)

dt[, kj := as.numeric(Kjonn)]
alko <- proscat("kj", "alkosistaar")

kjonnkb <- data.table(v1 = unique(alko$kj), v2 = c("Menn", "Kvinner", "Totalt"))
alkkb <- data.table(v1 = as.integer(alksistaar_values),
                    v2 = names(alksistaar_values))

alko[kjonnkb, on = c(kj = "v1"), gender := i.v2]
alko[alkkb, on = c(alkosistaar ="v1"), alkoyr := i.v2]

```

::: {.panel-tabset}

## Figur

```{r}
make_hist(alko, gender, pros, alkoyr, "Alkohol siste 12 måneder")
```

## Tabell

```{r}
cols <- c("kj", "alkosistaar", "sum")
alko[, (cols) := NULL]

colout <- c("alkoyr", "gender", "N", "pros")
colns <- c(" ", "Kjønn", "Antall", "Andel")
setcolorder(alko, colout)
data.table::setnames(alko, colout, colns)

gt::gt(alko)

```
:::


## Andel som har drukket 6+ enheter siste 4 uker 
- En alkoholenhet tilsvarer 0,33 l øl, 1,5 dl vin eller en 4 cl brennevin.
- Andel som har drukket 6+ enheter ved samme anledning minst en gang 4 ukene 

```{r}
dt[, alko6 := fifelse(totalenheter > 5, 1, 0)]
dt[, kj := as.numeric(Kjonn)]
kjAlko <- proscat("kj", "alko6")

kjonnkb <- data.table(v1 = unique(kjAlko$kj), v2 = c("Menn", "Kvinner", "Totalt"))
alkokb <- data.table(v1 = 0:1, v2 = c("Drukket 6+", "Drukket mindre enn 6+"))
kjAlko[kjonnkb, on = c(kj = "v1"), gender := i.v2]
kjAlko[alkokb, on = c(alko6 = "v1"), alko := i.v2]

make_hist(kjAlko, gender, pros, alko, "Andel drukket 6+ enheter siste 4 uker")
```


## Gjennomsnittlig drikkefrekvens siste år

```{r}

alkofrekvens_labels <- c(
    "aldri drukket" = 0,
    "ikke drukket siste år" = 1,
    "drukket sjeldnere enn månedlig siste 12 mnd" = 2,
    "drukket månedlig siste 12 mnd" = 3,
    "drukket ukentlig siste 12 mnd" = 4,
    "drukket daglig siste 12 mnd" = 5
)

dt[, .N, keyby = alkofrekvens]

```


## Gjennomsnittlig antall alkoholenheter siste 4 uker



# Drikkermønster i befolkningen
- Frekvens
- Kvantitet
- Type alkohol
- Mønstre overtid


# Ren alkohol per drikker sort
